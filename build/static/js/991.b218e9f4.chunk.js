/*! For license information please see 991.b218e9f4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkallmaxsport=self.webpackChunkallmaxsport||[]).push([[991],{2580:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},5087:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5244:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},6533:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8991:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(5043),r=s(5244),l=s(9292),i=s(2580),n=s(5087),c=s(6533),d=s(9855),o=s(4806),x=s(3546),h=s(6662),m=s(579);const g=e=>{let{searchTerm:t,setSearchTerm:s,statusFilter:a,setStatusFilter:r}=e;return(0,m.jsx)("div",{className:"bg-zinc-800 rounded-lg shadow-sm p-6 mb-6",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(l.A,{className:"w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,m.jsx)("input",{type:"text",placeholder:"\u062c\u0633\u062a\u062c\u0648 \u0628\u0631 \u0627\u0633\u0627\u0633 \u06a9\u0627\u0631\u0628\u0631 \u06cc\u0627 \u0645\u0648\u0636\u0648\u0639...",value:t,onChange:e=>s(e.target.value),className:"w-full p-3 pr-10 border bg-zinc-700 text-gray-200 border-gray-800 placeholder:text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,m.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"appearance-none px-4 py-2 pr-8 rounded-lg bg-zinc-700 border border-gray-800 text-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 relative",style:{backgroundImage:"url(\"data:image/svg+xml;utf8,<svg fill='gray' height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[(0,m.jsx)("option",{value:"all",children:"\u0647\u0645\u0647 \u0648\u0636\u0639\u06cc\u062a\u200c\u0647\u0627"}),(0,m.jsx)("option",{value:"open",children:"\u0628\u0627\u0632"}),(0,m.jsx)("option",{value:"pending",children:"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631"}),(0,m.jsx)("option",{value:"closed",children:"\u0628\u0633\u062a\u0647"})]})]})})},u=e=>{let{ticket:t,handleStatusChange:s,handleDelete:a,navigate:r}=e;return(0,m.jsxs)(o.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:t.id}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.customer_name}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:t.subject}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,m.jsxs)("select",{value:t.status,onChange:e=>s(t.id,e.target.value),className:"appearance-none px-4 py-2 pr-8 rounded-lg bg-gray-700 border border-gray-800 text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 relative",style:{backgroundImage:"url(\"data:image/svg+xml;utf8,<svg fill='gray' height='18' viewBox='0 0 24 24' width='18' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[(0,m.jsx)("option",{value:"open",children:"\u0628\u0627\u0632"}),(0,m.jsx)("option",{value:"pending",children:"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631"}),(0,m.jsx)("option",{value:"closed",children:"\u0628\u0633\u062a\u0647"})]})}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(t.created_at).toLocaleDateString("fa-IR")}),(0,m.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>r(`/dashboard/tickets/${t.id}`),children:(0,m.jsx)(n.A,{className:"w-5 h-5"})}),(0,m.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>a(t.id),children:(0,m.jsx)(d.A,{className:"w-5 h-5"})})]})})]})},p=()=>(0,m.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 bg-white rounded-lg shadow-sm mt-6",children:[(0,m.jsx)(r.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,m.jsx)("p",{className:"text-gray-500",children:"\u0647\u06cc\u0686 \u062a\u06cc\u06a9\u062a\u06cc \u0628\u0627 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647 \u06cc\u0627\u0641\u062a \u0646\u0634\u062f."})]});var y=s(1591),b=s(3768);const j=()=>{const e=(0,h.Zp)(),[t,s]=(0,a.useState)([]),[j,v]=(0,a.useState)(t),[f,w]=(0,a.useState)(""),[N,k]=(0,a.useState)("all"),[z,A]=(0,a.useState)(!1),[C,S]=(0,a.useState)([]),M="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/tickets/":"https://allmaxsport.com/api/tickets/";(0,a.useEffect)((()=>{!async function(){const e=await fetch(M),t=await e.json();s(t)}()}),[]),(0,a.useEffect)((()=>{let e=t;f&&(e=e.filter((e=>e.user.toLowerCase().includes(f.toLowerCase())||e.subject.toLowerCase().includes(f.toLowerCase())))),"all"!==N&&(e=e.filter((e=>e.status===N))),v(e)}),[f,N,t]);const D=(e,a)=>{s(t.map((t=>t.id===e?{...t,status:a,updated_at:(new Date).toISOString()}:t)))},L=e=>{s(t.filter((t=>t.id!==e)));try{fetch(`${M}?id=${e}`,{method:"DELETE"}).then((e=>e.json())),b.Ay.success("\u062a\u06cc\u06a9\u062a \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u067e\u0627\u06a9 \u0634\u062f")}catch(a){}},P=e=>{const t=new Date(e);return new Intl.DateTimeFormat("fa-IR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)},$=e=>{let{status:t}=e;const{text:s,bg:a}={open:{text:"\u0628\u0627\u0632",bg:"bg-emerald-900",text:"text-emerald-200"},pending:{text:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0631\u0631\u0633\u06cc",bg:"bg-amber-900",text:"text-amber-200"},closed:{text:"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647",bg:"bg-gray-800",text:"text-gray-300"}}[t];return(0,m.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a} ${s}`,children:s})};return(0,a.useEffect)((()=>{const e=j.sort(((e,t)=>e.created_at-t.created_at));S(e)}),[j]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.m,{children:(0,m.jsx)("title",{children:"\u0627\u0644\u0645\u06a9\u0633 | \u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"})}),(0,m.jsxs)("div",{className:"p-3 sm:p-6 max-w-7xl mx-auto",children:[(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-8 gap-3",children:[(0,m.jsxs)(o.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-xl sm:text-2xl font-bold text-gray-100 flex items-center",children:[(0,m.jsx)(r.A,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2"}),"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062a\u06cc\u06a9\u062a\u200c\u0647\u0627"]}),(0,m.jsxs)("div",{className:"flex w-full sm:hidden gap-2",children:[(0,m.jsxs)("div",{className:"relative flex-grow",children:[(0,m.jsx)("input",{type:"text",placeholder:"\u062c\u0633\u062a\u062c\u0648...",value:f,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 bg-zinc-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),(0,m.jsx)(l.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]}),(0,m.jsx)("button",{onClick:()=>A(!z),className:"flex items-center justify-center p-2 bg-zinc-800 border border-gray-700 rounded-lg hover:bg-zinc-700 transition-colors",children:(0,m.jsx)(i.A,{className:"h-5 w-5 text-gray-200"})})]}),(0,m.jsx)(x.N,{children:z&&(0,m.jsx)(o.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"w-full sm:hidden bg-zinc-800 rounded-lg p-3 border border-gray-700 overflow-hidden",children:(0,m.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,m.jsx)("span",{className:"text-gray-300 text-sm",children:"\u0641\u06cc\u0644\u062a\u0631 \u0628\u0631 \u0627\u0633\u0627\u0633 \u0648\u0636\u0639\u06cc\u062a:"}),(0,m.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","open","pending","closed"].map((e=>(0,m.jsx)("button",{onClick:()=>k(e),className:"px-3 py-1.5 rounded-md text-sm "+(N===e?"bg-blue-600 text-white":"bg-zinc-700 text-gray-300 hover:bg-zinc-600"),children:"all"===e?"\u0647\u0645\u0647":"open"===e?"\u0628\u0627\u0632":"pending"===e?"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0631\u0631\u0633\u06cc":"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647"},e)))})]})})})]}),(0,m.jsx)("div",{className:"hidden sm:block",children:(0,m.jsx)(g,{searchTerm:f,setSearchTerm:w,statusFilter:N,setStatusFilter:k})}),(0,m.jsx)("div",{className:"hidden sm:block bg-zinc-800 rounded-lg shadow-lg overflow-hidden border border-gray-700",children:(0,m.jsx)("div",{className:"overflow-x-auto",children:(0,m.jsxs)("table",{className:"w-full",children:[(0,m.jsx)("thead",{className:"bg-zinc-900",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u06a9\u0627\u0631\u0628\u0631"}),(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u0645\u0648\u0636\u0648\u0639"}),(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u0648\u0636\u0639\u06cc\u062a"}),(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u0627\u06cc\u062c\u0627\u062f \u0634\u062f\u0647"}),(0,m.jsx)("th",{className:"px-6 py-3 text-right text-sm font-medium text-gray-300",children:"\u0639\u0645\u0644\u06cc\u0627\u062a"})]})}),(0,m.jsx)("tbody",{className:"divide-y divide-gray-700",children:(0,m.jsx)(x.N,{children:null===C||void 0===C?void 0:C.map((t=>(0,m.jsx)(u,{ticket:t,handleStatusChange:D,handleDelete:L,navigate:e},t.id)))})})]})})}),(0,m.jsx)("div",{className:"sm:hidden space-y-4 mt-3",children:(0,m.jsx)(x.N,{children:j.map((t=>(0,m.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30},className:"bg-zinc-800 rounded-lg shadow p-4 border border-gray-700",children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,m.jsxs)("span",{className:"text-gray-400 text-xs",children:["#",null===t||void 0===t?void 0:t.id]}),(0,m.jsx)($,{status:null===t||void 0===t?void 0:t.status})]}),(0,m.jsx)("h3",{className:"text-gray-100 font-bold mb-2",children:null===t||void 0===t?void 0:t.subject}),(0,m.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,m.jsx)("span",{className:"text-gray-300 text-sm",children:null===t||void 0===t?void 0:t.user}),(0,m.jsx)("span",{className:"text-gray-400 text-xs",children:P(null===t||void 0===t?void 0:t.created_at)})]}),(0,m.jsxs)("div",{className:"border-t border-gray-700 pt-3 flex justify-between",children:[(0,m.jsxs)("div",{className:"flex space-x-2 space-x-reverse",children:[(0,m.jsx)("button",{onClick:()=>e(`/tickets/${t.id}`),className:"p-1.5 bg-blue-900 text-blue-200 rounded-md hover:bg-blue-800 transition-colors",title:"\u0645\u0634\u0627\u0647\u062f\u0647",children:(0,m.jsx)(n.A,{size:16})}),(0,m.jsx)("button",{onClick:()=>e(`/tickets/edit/${t.id}`),className:"p-1.5 bg-amber-900 text-amber-200 rounded-md hover:bg-amber-800 transition-colors",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",children:(0,m.jsx)(c.A,{size:16})}),(0,m.jsx)("button",{onClick:()=>L(t.id),className:"p-1.5 bg-red-900 text-red-200 rounded-md hover:bg-red-800 transition-colors",title:"\u062d\u0630\u0641",type:"button",children:(0,m.jsx)(d.A,{size:16})})]}),(0,m.jsxs)("select",{value:t.status,onChange:e=>D(t.id,e.target.value),className:"bg-zinc-700 text-gray-200 text-sm rounded-md border border-gray-600 py-1 px-2 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,m.jsx)("option",{value:"open",children:"\u0628\u0627\u0632"}),(0,m.jsx)("option",{value:"pending",children:"\u062f\u0631 \u062d\u0627\u0644 \u0628\u0631\u0631\u0633\u06cc"}),(0,m.jsx)("option",{value:"closed",children:"\u0628\u0633\u062a\u0647 \u0634\u062f\u0647"})]})]})]},t.id)))})}),0===j.length&&(0,m.jsx)(p,{}),j.length>0&&(0,m.jsx)("div",{className:"mt-6 flex justify-center",children:(0,m.jsxs)("nav",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,m.jsx)("button",{className:"px-3 py-1 rounded bg-zinc-800 text-gray-300 hover:bg-zinc-700 border border-gray-700",children:"\u0642\u0628\u0644\u06cc"}),(0,m.jsx)("button",{className:"px-3 py-1 rounded bg-blue-600 text-white text-center",children:"1"}),(0,m.jsx)("button",{className:"px-3 py-1 rounded bg-zinc-800 text-gray-300 hover:bg-zinc-700 border border-gray-700",children:"\u0628\u0639\u062f\u06cc"})]})})]})]})}},9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=991.b218e9f4.chunk.js.map