"use strict";(self.webpackChunkallmaxsport=self.webpackChunkallmaxsport||[]).push([[916],{7916:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var l=t(5043),r=t(2580),d=t(614),i=t(8646),n=t(579);const a=()=>{const[e,s]=(0,l.useState)(!1),t=()=>{s(!e)};return(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("div",{className:"md:hidden mb-4",children:(0,n.jsxs)("button",{onClick:t,className:"flex items-center gap-2 text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-800 px-4 py-2 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700",children:[(0,n.jsx)(r.A,{size:18}),(0,n.jsx)("span",{className:"font-medium",children:"\u0641\u06cc\u0644\u062a\u0631\u0647\u0627"})]})}),(0,n.jsxs)("div",{className:(e?"block":"hidden")+" md:block bg-white dark:bg-zinc-800 rounded-xl shadow-md p-4 mb-4 transition-all",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between md:hidden mb-3",children:[(0,n.jsx)("h3",{className:"font-medium text-zinc-800 dark:text-zinc-200",children:"\u0641\u06cc\u0644\u062a\u0631 \u0633\u0641\u0627\u0631\u0634\u200c\u0647\u0627"}),(0,n.jsx)("button",{onClick:t,className:"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200",children:(0,n.jsx)(d.A,{size:20})})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:flex-wrap md:items-end lg:items-end lg:justify-between gap-4",children:[(0,n.jsxs)("div",{className:"w-full sm:w-1/2 md:w-auto lg:w-auto",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1 text-zinc-600 dark:text-zinc-400",children:"\u0627\u0632 \u062a\u0627\u0631\u06cc\u062e:"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)(i.A,{size:16,className:"text-zinc-400 dark:text-zinc-500"})}),(0,n.jsx)("input",{type:"date",className:"w-full pr-3 pl-10 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-900 focus:ring-2 focus:ring-zinc-400 dark:focus:ring-zinc-500 focus:border-zinc-400 dark:focus:border-zinc-500"})]})]}),(0,n.jsxs)("div",{className:"w-full sm:w-1/2 md:w-auto lg:w-auto",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1 text-zinc-600 dark:text-zinc-400",children:"\u062a\u0627 \u062a\u0627\u0631\u06cc\u062e:"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,n.jsx)(i.A,{size:16,className:"text-zinc-400 dark:text-zinc-500"})}),(0,n.jsx)("input",{type:"date",className:"w-full pr-3 pl-10 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-900 focus:ring-2 focus:ring-zinc-400 dark:focus:ring-zinc-500 focus:border-zinc-400 dark:focus:border-zinc-500"})]})]}),(0,n.jsxs)("div",{className:"w-full sm:w-1/2 md:w-auto lg:w-auto",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1 text-zinc-600 dark:text-zinc-400",children:"\u0648\u0636\u0639\u06cc\u062a \u067e\u0631\u062f\u0627\u062e\u062a:"}),(0,n.jsxs)("select",{className:"w-full pr-3 pl-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-900 focus:ring-2 focus:ring-zinc-400 dark:focus:ring-zinc-500 focus:border-zinc-400 dark:focus:border-zinc-500",children:[(0,n.jsx)("option",{value:"",children:"\u0647\u0645\u0647"}),(0,n.jsx)("option",{value:"paid",children:"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u062f\u0647"}),(0,n.jsx)("option",{value:"unpaid",children:"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u067e\u0631\u062f\u0627\u062e\u062a"})]})]}),(0,n.jsxs)("div",{className:"w-full sm:w-1/2 md:w-auto lg:w-auto",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1 text-zinc-600 dark:text-zinc-400",children:"\u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644:"}),(0,n.jsxs)("select",{className:"w-full pr-3 pl-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-700 dark:text-zinc-300 bg-white dark:bg-zinc-900 focus:ring-2 focus:ring-zinc-400 dark:focus:ring-zinc-500 focus:border-zinc-400 dark:focus:border-zinc-500",children:[(0,n.jsx)("option",{value:"",children:"\u0647\u0645\u0647"}),(0,n.jsx)("option",{value:"shipped",children:"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647"}),(0,n.jsx)("option",{value:"processing",children:"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634"})]})]}),(0,n.jsx)("div",{className:"w-full md:w-auto md:mt-0",children:(0,n.jsx)("button",{className:"w-full md:w-auto px-4 py-2 bg-zinc-800 hover:bg-zinc-900 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-white rounded-lg text-sm font-medium transition-colors",children:"\u0627\u0639\u0645\u0627\u0644 \u0641\u06cc\u0644\u062a\u0631\u0647\u0627"})})]})]})]})};var c=t(5087),o=t(9855),x=t(2382),m=t(1591);const u=e=>{let{orders:s,onView:t,onDelete:r}=e;const[d,i]=(0,l.useState)(null),a={paid:"text-green-600 bg-green-50 dark:bg-green-900/20",unpaid:"text-red-500 bg-red-50 dark:bg-red-900/20"},u={shipped:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",processing:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},h=e=>{try{return new Date(e).toLocaleDateString("fa-IR")}catch(s){return e}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.m,{children:(0,n.jsx)("title",{children:"\u0627\u0644\u0645\u06a9\u0633 | \u0633\u0641\u0627\u0631\u0634 \u0647\u0627"})}),(0,n.jsx)("div",{className:"hidden md:block overflow-x-auto bg-white dark:bg-neutral-800 rounded-xl shadow-md",children:(0,n.jsxs)("table",{className:"min-w-full text-sm text-right",children:[(0,n.jsx)("thead",{className:"bg-gray-100 dark:bg-neutral-700 text-gray-600 dark:text-gray-300",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u0634\u0646\u0627\u0633\u0647"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u0645\u0634\u062a\u0631\u06cc"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u067e\u0631\u062f\u0627\u062e\u062a"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u0627\u0631\u0633\u0627\u0644"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u062a\u0627\u0631\u06cc\u062e"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u0645\u0628\u0644\u063a"}),(0,n.jsx)("th",{className:"p-3 font-medium",children:"\u0639\u0645\u0644\u06cc\u0627\u062a"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-neutral-700",children:s.map((e=>{var s;return(0,n.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-neutral-700 text-gray-600 dark:text-gray-300 transition-colors",children:[(0,n.jsx)("td",{className:"p-4 font-mono text-sm",children:null===e||void 0===e?void 0:e.id}),(0,n.jsx)("td",{className:"p-4",children:null!==e&&void 0!==e&&e.customer_name?e.customer_name:"\u0627\u0633\u0645 \u0645\u0634\u062a\u0631\u06cc"}),(0,n.jsx)("td",{className:"p-4",children:(0,n.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a[null===e||void 0===e?void 0:e.status]}`,children:"paid"===(null===e||void 0===e?void 0:e.status)?"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u062f\u0647":"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631"})}),(0,n.jsx)("td",{className:"p-4",children:(0,n.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u[null===e||void 0===e?void 0:e.fulfillment]}`,children:"shipped"===(null===e||void 0===e?void 0:e.fulfillment)?"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647":"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634"})}),(0,n.jsx)("td",{className:"p-4",children:new Date(null===e||void 0===e?void 0:e.order_date).toLocaleDateString("fa-IR")}),(0,n.jsxs)("td",{className:"p-4 font-bold",children:[null===(s=Number(null===e||void 0===e?void 0:e.total))||void 0===s?void 0:s.toLocaleString("fa-IR")," \u062a\u0648\u0645\u0627\u0646"]}),(0,n.jsx)("td",{className:"p-4",children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-start",children:[(0,n.jsx)("button",{onClick:()=>t(e),className:"p-1.5 rounded-full text-blue-500 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors","aria-label":"\u0645\u0634\u0627\u0647\u062f\u0647 \u0633\u0641\u0627\u0631\u0634",title:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0633\u0641\u0627\u0631\u0634",children:(0,n.jsx)(c.A,{size:18})}),(0,n.jsx)("button",{onClick:()=>r&&r(e),className:"p-1.5 rounded-full text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":"\u062d\u0630\u0641 \u0633\u0641\u0627\u0631\u0634",title:"\u062d\u0630\u0641 \u0633\u0641\u0627\u0631\u0634",children:(0,n.jsx)(o.A,{size:18})})]})})]},null===e||void 0===e?void 0:e.id)}))})]})}),(0,n.jsx)("div",{className:"md:hidden space-y-4",children:s.map((e=>{var s;return(0,n.jsxs)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden",children:[(0,n.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>{return s=e.id,void i(d===s?null:s);var s},children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:null!==e&&void 0!==e&&e.name?e.name:"\u0627\u0633\u0645 \u0645\u0634\u062a\u0631\u06cc"}),(0,n.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${a[null===e||void 0===e?void 0:e.status]}`,children:"paid"===(null===e||void 0===e?void 0:e.status)?"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u062f\u0647":"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631"})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[h(null===e||void 0===e?void 0:e.created_at)," \u2022"," ",null===(s=Number(null===e||void 0===e?void 0:e.total))||void 0===s?void 0:s.toLocaleString("fa-IR")," \u062a\u0648\u0645\u0627\u0646"]})]}),(0,n.jsx)(x.A,{size:20,className:"text-gray-500 transition-transform "+(d===(null===e||void 0===e?void 0:e.id)?"rotate-180":"")})]}),d===(null===e||void 0===e?void 0:e.id)&&(0,n.jsx)("div",{className:"px-4 pb-4 pt-1 border-t border-gray-100 dark:border-neutral-700",children:(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"\u0634\u0646\u0627\u0633\u0647:"}),(0,n.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:null===e||void 0===e?void 0:e.id})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"\u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644:"}),(0,n.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${u[e.fulfillment]}`,children:"shipped"===e.fulfillment?"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647":"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634"})]}),(0,n.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,n.jsxs)("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30 text-xs font-medium",children:[(0,n.jsx)(c.A,{size:14}),"\u0645\u0634\u0627\u0647\u062f\u0647 \u062c\u0632\u0626\u06cc\u0627\u062a"]}),(0,n.jsxs)("button",{onClick:s=>{s.stopPropagation(),r&&r(e)},className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30 text-xs font-medium",children:[(0,n.jsx)(o.A,{size:14}),"\u062d\u0630\u0641"]})]})]})})]},e.id)}))}),0===s.length&&(0,n.jsx)("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md p-8 text-center",children:(0,n.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"\u0647\u06cc\u0686 \u0633\u0641\u0627\u0631\u0634\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f"})})]})};var h=t(6376),p=t(4285);const b=e=>{var s;let{isOpen:t,onClose:l,order:r,onUpdateFulfillment:i,onConfirmPayment:a}=e;return t&&r?(0,n.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center px-4",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-neutral-800 w-full max-w-2xl rounded-xl shadow-xl p-6 relative text-right font-vazir",children:[(0,n.jsx)("button",{onClick:l,className:"absolute top-4 left-4 text-gray-500 hover:text-red-500",children:(0,n.jsx)(d.A,{})}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0633\u0641\u0627\u0631\u0634"}),(0,n.jsxs)("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u0634\u0646\u0627\u0633\u0647:"})," ",null===r||void 0===r?void 0:r.id]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u0645\u0634\u062a\u0631\u06cc:"})," ",null===r||void 0===r?void 0:r.name]}),(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"\u0645\u062d\u0635\u0648\u0644\u0627\u062a:"})}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u062a\u0627\u0631\u06cc\u062e \u0633\u0641\u0627\u0631\u0634:"})," ",null===r||void 0===r?void 0:r.date]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u0645\u0628\u0644\u063a \u06a9\u0644:"})," ",null===(s=Number(null===r||void 0===r?void 0:r.total))||void 0===s?void 0:s.toLocaleString("fa-IR")," \u062a\u0648\u0645\u0627\u0646"]}),(0,n.jsxs)("p",{className:"flex items-center gap-2",children:[(0,n.jsx)(h.A,{size:18})," \u0648\u0636\u0639\u06cc\u062a \u067e\u0631\u062f\u0627\u062e\u062a:"," ","paid"===r.status?"\u067e\u0631\u062f\u0627\u062e\u062a \u0634\u062f\u0647":"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u067e\u0631\u062f\u0627\u062e\u062a"]}),(0,n.jsxs)("p",{className:"flex items-center gap-2",children:[(0,n.jsx)(p.A,{size:18})," \u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644:"," ","shipped"===r.fulfillment?"\u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647":"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634"]})]}),(0,n.jsxs)("div",{className:"mt-6 flex gap-4",children:["paid"!==r.status&&(0,n.jsx)("button",{onClick:()=>{a(r.id),l()},className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 text-sm",children:"\u062a\u0627\u06cc\u06cc\u062f \u067e\u0631\u062f\u0627\u062e\u062a"}),(0,n.jsx)("button",{onClick:()=>{i(r.id),l()},className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 text-sm",children:"\u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644"})]})]})}):null};var g=t(1238),f=t(3768),j=t(6662);const v=()=>{const[e,s]=(0,l.useState)(null),[t,r]=(0,l.useState)([]),[d,i]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/orders/":"https://allmaxsport.com/api/orders/";!async function(){const s=await fetch(e),t=await s.json();r(t)}()}),[]);const{role:c}=(0,j.KC)();if("admin"!==c&&"manager"!==c)return null;return(0,n.jsxs)("div",{className:"p-6 text-right font-vazir",children:[(0,n.jsx)(f.l$,{position:"top-center"}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2 md:mb-0",children:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0633\u0641\u0627\u0631\u0634\u200c\u0647\u0627"}),(0,n.jsx)("button",{onClick:()=>{if(!t||0===t.length)return void f.Ay.error("\u0633\u0641\u0627\u0631\u0634\u06cc \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f");const e=t.map((e=>({"\u0634\u0646\u0627\u0633\u0647 \u0633\u0641\u0627\u0631\u0634":e.id,"\u0646\u0627\u0645 \u0645\u0634\u062a\u0631\u06cc":e.customer_name||"\u2014","\u0648\u0636\u0639\u06cc\u062a \u067e\u0631\u062f\u0627\u062e\u062a":"paid"===e.status?"\u067e\u0631\u062f\u0627\u062e\u062a\u200c\u0634\u062f\u0647":"\u062f\u0631 \u0627\u0646\u062a\u0638\u0627\u0631 \u067e\u0631\u062f\u0627\u062e\u062a","\u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644":"shipped"===e.fulfillment?"\u0627\u0631\u0633\u0627\u0644\u200c\u0634\u062f\u0647":"\u062f\u0631 \u062d\u0627\u0644 \u067e\u0631\u062f\u0627\u0632\u0634","\u0645\u0628\u0644\u063a \u06a9\u0644":e.total_price,"\u062a\u0627\u0631\u06cc\u062e \u0633\u0641\u0627\u0631\u0634":new Date(e.created_at).toLocaleDateString("fa-IR")}))),s=g.Wp.json_to_sheet(e),l=g.Wp.book_new();g.Wp.book_append_sheet(l,s,"\u0633\u0641\u0627\u0631\u0634\u200c\u0647\u0627"),g._h(l,"\u06af\u0632\u0627\u0631\u0634_\u0633\u0641\u0627\u0631\u0634\u0627\u062a.xlsx")},className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-xl",children:"\u062f\u0627\u0646\u0644\u0648\u062f \u0627\u06a9\u0633\u0644 \u0633\u0641\u0627\u0631\u0634\u0627\u062a"})]}),(0,n.jsx)(a,{}),(0,n.jsx)(u,{orders:t,onView:e=>s(e)}),(0,n.jsx)(b,{isOpen:!!e,order:e,onClose:()=>s(null),onUpdateFulfillment:e=>{r((s=>s.map((s=>s.id===e?{...s,fulfillment:"processing"===s.fulfillment?"shipped":"processing"}:s)))),f.Ay.success("\u0648\u0636\u0639\u06cc\u062a \u0627\u0631\u0633\u0627\u0644 \u0628\u0647\u200c\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0634\u062f")},onConfirmPayment:e=>{r((s=>s.map((s=>s.id===e?{...s,status:"paid"}:s)))),f.Ay.success("\u067e\u0631\u062f\u0627\u062e\u062a \u062a\u0627\u06cc\u06cc\u062f \u0634\u062f")}})]})}}}]);
//# sourceMappingURL=916.68c10e32.chunk.js.map