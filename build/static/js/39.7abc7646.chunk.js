/*! For license information please see 39.7abc7646.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkallmaxsport=self.webpackChunkallmaxsport||[]).push([[39],{2382:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(7784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4459:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(7784).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5087:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(7784).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5505:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(7784).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},8039:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(5043),r=a(7784);const l=(0,r.A)("toggle-right",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),n=(0,r.A)("toggle-left",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);var i=a(5087),d=a(5505);const o=(0,r.A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var c=a(4459),x=a(2382),m=a(1591),u=a(579);const h=e=>{let{isOpen:s,onRequestClose:a,onConfirm:t,userFullName:r}=e;return s?(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-neutral-800 px-6 py-4 rounded-lg shadow-xl max-w-sm mx-4",children:[(0,u.jsx)("h2",{className:"font-bold text-gray-800 dark:text-gray-100 mb-2",children:"\u062a\u0623\u06cc\u06cc\u062f \u062d\u0630\u0641"}),(0,u.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:`\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 ${r} \u0645\u0637\u0645\u0646 \u0647\u0633\u062a\u06cc\u062f`}),(0,u.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,u.jsx)("button",{onClick:a,className:"bg-gray-200 dark:bg-neutral-700 text-gray-800 dark:text-gray-200 font-medium rounded-lg px-4 py-2 hover:bg-gray-300 dark:hover:bg-neutral-600 transition-colors",children:"\u0628\u0627\u0632\u06af\u0634\u062a"}),(0,u.jsx)("button",{onClick:t,className:"bg-red-500 rounded-lg px-4 py-2 text-white font-medium hover:bg-red-600 transition-colors",children:"\u062d\u0630\u0641"})]})]})}):null},p=e=>{let{users:s,onView:a,onEdit:r,onToggleStatus:p,onDelete:g}=e;const[b,j]=(0,t.useState)(!1),[f,y]=(0,t.useState)(null),[v,N]=(0,t.useState)(null),[k,w]=(0,t.useState)(null),C=e=>{y(e),j(!0);let a=null===s||void 0===s?void 0:s.find((s=>s.id===e));w(a)},S={admin:"\u0627\u062f\u0645\u06cc\u0646",manager:"\u0645\u062f\u06cc\u0631",user:"\u06a9\u0627\u0631\u0628\u0631"},_={admin:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",manager:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",user:"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-400"};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m.m,{children:(0,u.jsx)("title",{children:"\u06a9\u0627\u0631\u0628\u0631\u0627\u0646 | \u0627\u0644\u0645\u06a9\u0633"})}),(0,u.jsx)("div",{className:"hidden md:block overflow-x-auto bg-white dark:bg-neutral-900 rounded-xl shadow-md",children:(0,u.jsxs)("table",{className:"min-w-full text-sm text-right",children:[(0,u.jsx)("thead",{className:"bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-gray-200",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0646\u0627\u0645"}),(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0627\u06cc\u0645\u06cc\u0644"}),(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0634\u0645\u0627\u0631\u0647"}),(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0646\u0642\u0634"}),(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0648\u0636\u0639\u06cc\u062a"}),(0,u.jsx)("th",{className:"p-3 font-medium",children:"\u0639\u0645\u0644\u06cc\u0627\u062a"})]})}),(0,u.jsx)("tbody",{className:"text-gray-800 dark:text-gray-100 divide-y divide-gray-200 dark:divide-neutral-700",children:0===s.length?(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:6,className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"\u0647\u06cc\u0686 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"})}):null===s||void 0===s?void 0:s.map((e=>(0,u.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-neutral-800 transition-colors",children:[(0,u.jsx)("td",{className:"p-4 font-medium",children:`${e.first_name} ${e.last_name}`}),(0,u.jsx)("td",{className:"p-4",children:e.email}),(0,u.jsx)("td",{className:"p-4",children:e.phone}),(0,u.jsx)("td",{className:"p-4",children:(0,u.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_[e.user_type]}`,children:S[e.user_type]||"\u0645\u062f\u06cc\u0631"})}),(0,u.jsx)("td",{className:"p-4",children:(0,u.jsxs)("button",{onClick:()=>p(null===e||void 0===e?void 0:e.id),className:"focus:outline-none flex gap-1 items-center","aria-label":e.is_active?"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631":"\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631",title:e.is_active?"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631":"\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631",children:[e.is_active?(0,u.jsx)(l,{size:22,className:"text-green-500 hover:text-green-600 mr-2"}):(0,u.jsx)(n,{size:22,className:"text-gray-400 hover:text-gray-500 mr-2"}),(0,u.jsx)("span",{className:"font-medium "+(e.is_active?"text-green-500":"text-gray-400"),children:e.is_active?"\u0641\u0639\u0627\u0644":"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644"})]})}),(0,u.jsx)("td",{className:"p-4",children:(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)("button",{onClick:()=>a(e),className:"p-1.5 rounded-full text-blue-500 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors","aria-label":"\u0645\u0634\u0627\u0647\u062f\u0647 \u062c\u0632\u0626\u06cc\u0627\u062a \u06a9\u0627\u0631\u0628\u0631",title:"\u0645\u0634\u0627\u0647\u062f\u0647",children:(0,u.jsx)(i.A,{size:18})}),(0,u.jsx)("button",{onClick:()=>r(e),className:"p-1.5 rounded-full text-amber-500 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors","aria-label":"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0627\u0631\u0628\u0631",title:"\u0648\u06cc\u0631\u0627\u06cc\u0634",children:(0,u.jsx)(d.A,{size:18})}),(0,u.jsx)("button",{onClick:()=>C(null===e||void 0===e?void 0:e.id),className:"p-1.5 rounded-full text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":"\u062d\u0630\u0641 \u06a9\u0627\u0631\u0628\u0631",title:"\u062d\u0630\u0641",children:(0,u.jsx)(o,{size:18})})]})})]},e.id)))})]})}),(0,u.jsx)("div",{className:"md:hidden space-y-4",children:0===s.length?(0,u.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-md p-8 text-center",children:(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 dark:text-gray-400",children:[(0,u.jsx)(c.A,{size:40,className:"mb-2 opacity-50"}),(0,u.jsx)("p",{children:"\u0647\u06cc\u0686 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f"})]})}):s.map((e=>(0,u.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-md overflow-hidden",children:[(0,u.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>{return s=e.id,void N(v===s?null:s);var s},children:[(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:`${e.first_name} ${e.last_name}`}),(0,u.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${_[e.role]}`,children:S[e.role]})]}),(0,u.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.email})]}),(0,u.jsx)(x.A,{size:20,className:"text-gray-500 transition-transform "+(v===e.id?"rotate-180":"")})]}),v===e.id&&(0,u.jsx)("div",{className:"px-4 pb-4 pt-1 border-t border-gray-100 dark:border-neutral-800",children:(0,u.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646:"}),(0,u.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e.phone})]}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"\u0648\u0636\u0639\u06cc\u062a:"}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)("button",{onClick:s=>{s.stopPropagation(),p(e.id)},className:"focus:outline-none","aria-label":e.is_active?"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631":"\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631",title:e.is_active?"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631":"\u0641\u0639\u0627\u0644 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631",children:e.is_active?(0,u.jsxs)("div",{className:"flex items-center text-green-500",children:[(0,u.jsx)(l,{size:20,className:"ml-1"}),(0,u.jsx)("span",{className:"text-xs font-medium",children:"\u0641\u0639\u0627\u0644"})]}):(0,u.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,u.jsx)(n,{size:20,className:"ml-1"}),(0,u.jsx)("span",{className:"text-xs font-medium",children:"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644"})]})})})]}),(0,u.jsxs)("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[(0,u.jsxs)("button",{onClick:s=>{s.stopPropagation(),a(e)},className:"flex items-center justify-center gap-1 py-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30 text-xs font-medium",children:[(0,u.jsx)(i.A,{size:14}),"\u0645\u0634\u0627\u0647\u062f\u0647"]}),(0,u.jsxs)("button",{onClick:s=>{s.stopPropagation(),r(e)},className:"flex items-center justify-center gap-1 py-2 rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/30 text-xs font-medium",children:[(0,u.jsx)(d.A,{size:14}),"\u0648\u06cc\u0631\u0627\u06cc\u0634"]}),(0,u.jsxs)("button",{onClick:s=>{s.stopPropagation(),C(e.id)},className:"flex items-center justify-center gap-1 py-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30 text-xs font-medium",children:[(0,u.jsx)(o,{size:14}),"\u062d\u0630\u0641"]})]})]})})]},e.id)))}),(0,u.jsx)(h,{isOpen:b,onRequestClose:()=>j(!1),onConfirm:()=>{f&&(g(f),y(null),j(!1))},userFullName:`${null===k||void 0===k?void 0:k.first_name} ${null===k||void 0===k?void 0:k.last_name}`})]})};var g=a(614);const b=e=>{let{user:s,onClose:a}=e;return s?(0,u.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center px-4",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-neutral-800 w-full max-w-md p-6 rounded-2xl shadow-xl relative",children:[(0,u.jsx)("button",{onClick:a,className:"absolute top-4 left-4 text-gray-400 hover:text-red-500",children:(0,u.jsx)(g.A,{})}),(0,u.jsx)("h3",{className:"text-xl font-bold mb-6 text-gray-800 dark:text-white",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631"}),(0,u.jsxs)("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-200",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-bold",children:"\u0646\u0627\u0645:"})," ",s.name]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-bold",children:"\u0627\u06cc\u0645\u06cc\u0644:"})," ",s.email]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-bold",children:"\u0634\u0645\u0627\u0631\u0647:"})," ",s.phone]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-bold",children:"\u0646\u0642\u0634:"}),"admin"===s.role?"\u0645\u062f\u06cc\u0631":"manager"===s.role?"\u0645\u062f\u06cc\u0631 \u062f\u0627\u062e\u0644\u06cc":"\u06a9\u0627\u0631\u0628\u0631"]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"font-bold",children:"\u0648\u0636\u0639\u06cc\u062a:"})," ",s.status?"\u0641\u0639\u0627\u0644":"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644"]})]})]})}):null};function j(e){let{user:s,onClose:a,onSave:r,currentUserRole:l}=e;const[n,i]=(0,t.useState)(null);if((0,t.useEffect)((()=>{s&&i(s)}),[s]),!s||!n)return null;const d=e=>{i((s=>({...s,[e.target.name]:e.target.value})))},o="manager"===l?[{value:"admin",label:"\u0627\u062f\u0645\u06cc\u0646"},{value:"manager",label:"\u0645\u062f\u06cc\u0631"},{value:"user",label:"\u06a9\u0627\u0631\u0628\u0631"}]:[{value:"user",label:"\u06a9\u0627\u0631\u0628\u0631"}];return(0,u.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 flex items-center justify-center px-4",children:(0,u.jsxs)("div",{className:"bg-white dark:bg-neutral-800 w-full max-w-md p-6 rounded-2xl shadow-xl relative",children:[(0,u.jsx)("button",{onClick:a,className:"absolute top-4 left-4 text-gray-400 hover:text-red-500",children:(0,u.jsx)(g.A,{})}),(0,u.jsx)("h3",{className:"text-xl font-bold mb-6 text-gray-800 dark:text-white",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0627\u0631\u0628\u0631"}),(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("input",{name:"name",value:n.name,onChange:d,placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631",className:"w-full p-2 rounded-xl border dark:bg-neutral-700 dark:text-white"}),(0,u.jsx)("input",{name:"email",value:n.email,onChange:d,placeholder:"\u0627\u06cc\u0645\u06cc\u0644",className:"w-full p-2 rounded-xl border dark:bg-neutral-700 dark:text-white"}),(0,u.jsx)("input",{name:"phone",value:n.phone,onChange:d,placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633",className:"w-full p-2 rounded-xl border dark:bg-neutral-700 dark:text-white"}),(0,u.jsx)("select",{name:"role",value:n.role,onChange:d,className:"w-full p-2 rounded-xl border dark:bg-neutral-700 dark:text-white",children:o.map((e=>(0,u.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{onClick:()=>{r(n),a()},className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-xl",children:"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"})})]})})}const f={name:"",username:"",email:"",phone:"",role:"user",password:"",confirmPassword:"",address:""},y=e=>{let{isOpen:s,onClose:a,onSubmit:r}=e;const[l,n]=(0,t.useState)(f),[i,d]=(0,t.useState)({}),[o,c]=(0,t.useState)(!1),[x,m]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s?(n(f),d({}),m(!0),c(!1)):setTimeout((()=>m(!1)),300)}),[s]);const h=()=>{const e={};return l.name.trim()||(e.name="\u0646\u0627\u0645 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"),l.username.trim()||(e.username="\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"),l.email.includes("@")||(e.email="\u0627\u06cc\u0645\u06cc\u0644 \u0645\u0639\u062a\u0628\u0631 \u0646\u06cc\u0633\u062a"),/^\d{10,15}$/.test(l.phone)||(e.phone="\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633 \u0645\u0639\u062a\u0628\u0631 \u0646\u06cc\u0633\u062a"),l.password.length<6&&(e.password="\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062d\u062f\u0627\u0642\u0644 \u06f6 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f"),l.password!==l.confirmPassword&&(e.confirmPassword="\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062a\u0637\u0627\u0628\u0642 \u0646\u062f\u0627\u0631\u062f"),e},p=e=>{const{name:s,value:a}=e.target;if("phone"===s){const e=a.replace(/\D/g,"");n((s=>({...s,phone:e})))}else n((e=>({...e,[s]:a})))};return x?(0,u.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-60 flex justify-center items-center px-4",children:(0,u.jsxs)("div",{className:"bg-neutral-900 text-white w-full max-w-md rounded-2xl shadow-2xl p-6 relative space-y-6 transform transition-all duration-300 "+(s?"opacity-100 scale-100":"opacity-0 scale-90"),children:[(0,u.jsx)("button",{onClick:()=>{n(f),d({}),a()},className:"absolute top-4 left-4 text-gray-400 hover:text-red-500 transition","aria-label":"\u0628\u0633\u062a\u0646",children:(0,u.jsx)(g.A,{size:20})}),(0,u.jsx)("h3",{className:"text-2xl font-semibold text-center",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631"}),(0,u.jsxs)("div",{className:"space-y-4",children:[[{name:"name",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644"},{name:"username",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"},{name:"email",placeholder:"\u0627\u06cc\u0645\u06cc\u0644"},{name:"phone",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0645\u0627\u0633 (\u0641\u0642\u0637 \u0639\u062f\u062f)",maxLength:15},{name:"password",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",type:"password"},{name:"confirmPassword",placeholder:"\u062a\u0627\u06cc\u06cc\u062f \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",type:"password"}].map((e=>{let{name:s,placeholder:a,type:t,maxLength:r}=e;return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{name:s,type:t||"text",value:l[s],onChange:p,maxLength:r,className:`w-full bg-neutral-800 border ${i[s]?"border-red-500":"border-neutral-700"} text-white p-3 rounded-xl focus:outline-none focus:ring-2 ${i[s]?"focus:ring-red-500":"focus:ring-blue-500"}`,placeholder:a}),i[s]&&(0,u.jsx)("p",{className:"text-sm text-red-400 mt-1",children:i[s]})]},s)})),(0,u.jsx)("textarea",{name:"address",value:l.address,onChange:p,className:"w-full bg-neutral-800 border border-neutral-700 text-white p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"\u0622\u062f\u0631\u0633 (\u0627\u062e\u062a\u06cc\u0627\u0631\u06cc)",rows:2}),(0,u.jsxs)("select",{name:"role",value:l.role,onChange:p,className:"w-full bg-neutral-800 border border-neutral-700 text-white p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,u.jsx)("option",{value:"user",children:"\u06a9\u0627\u0631\u0628\u0631"}),(0,u.jsx)("option",{value:"admin",children:"\u0627\u062f\u0645\u06cc\u0646"}),(0,u.jsx)("option",{value:"manager",children:"\u0645\u062f\u06cc\u0631"})]})]}),(0,u.jsx)("div",{className:"flex justify-end pt-4",children:(0,u.jsx)("button",{onClick:async()=>{const e=h();if(Object.keys(e).length>0)d(e);else{c(!0);try{const e={username:l.username.trim(),email:l.email.trim(),password:l.password,full_name:l.name.trim(),phone_number:l.phone,role:l.role,address:l.address.trim()||null,is_active:!0};await r(e),n(f),a()}catch(s){}finally{c(!1)}}},disabled:o||Object.keys(h()).length>0,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-semibold px-6 py-2 rounded-xl transition duration-200",children:o?"\u062f\u0631 \u062d\u0627\u0644 \u062b\u0628\u062a...":"\u062b\u0628\u062a \u06a9\u0627\u0631\u0628\u0631"})})]})}):null};var v=a(3768);const N=()=>{const[e,s]=(0,t.useState)([]),[a,r]=(0,t.useState)(null),[l,n]=(0,t.useState)(null),[i,d]=(0,t.useState)(!1),o="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/user/":"https://allmaxsport.com/api/user/";(0,t.useEffect)((()=>{!async function(){const e=await fetch(`${o}`),a=await e.json();s(a)}()}),[]);return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"flex items-end justify-end",children:(0,u.jsx)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white font-bold rounded-lg px-4 py-2 hover:bg-blue-800 duration-150",children:"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631"})}),(0,u.jsx)(p,{users:e,onView:r,onEdit:n,onToggleStatus:async a=>{const t=e.find((e=>e.id===a));if(!t)return v.oR.error("\u06a9\u0627\u0631\u0628\u0631 \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f");const r={...t,is_active:!t.is_active};try{const e=await fetch(`${o}?id=${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:r.is_active})});if(!e.ok)throw new Error;await e.json(),s((e=>e.map((e=>e.id===a?r:e)))),v.oR.success("\u0648\u0636\u0639\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u06cc\u0627\u0641\u062a")}catch(l){v.oR.error("\u062e\u0637\u0627 \u062f\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631")}},onDelete:async e=>{s((s=>s.filter((s=>s.id!==e))));try{const s=await fetch(`${o}?id=${e}`,{method:"DELETE"});if(!s.ok)return;await s.json(),v.oR.success("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f")}catch(a){v.oR.error(a.message)}}}),(0,u.jsx)(b,{user:a,onClose:()=>r(null)}),(0,u.jsx)(j,{user:l,onClose:()=>n(null),onSave:async e=>{s((s=>s.map((s=>s.id===e.id?e:s)))),await fetch(`${o}?id=${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),v.oR.success("\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631 \u0628\u0647\u200c\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0634\u062f")},currentUserRole:"manager"}),(0,u.jsx)(y,{isOpen:i,onClose:()=>d(!1),onSubmit:async e=>{try{const t=await fetch(`${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.text();let l;try{l=JSON.parse(r)}catch(a){l=r}if(!t.ok)throw new Error("\u062b\u0628\u062a \u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u062e\u0637\u0627 \u0645\u0648\u0627\u062c\u0647 \u0634\u062f");s((e=>[...e,l])),v.oR.success("\u06a9\u0627\u0631\u0628\u0631 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0636\u0627\u0641\u0647 \u0634\u062f")}catch(t){v.oR.error("\u062e\u0637\u0627 \u062f\u0631 \u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631")}}})]})}}}]);
//# sourceMappingURL=39.7abc7646.chunk.js.map