/*! For license information please see 13.074a75d0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkallmaxsport=self.webpackChunkallmaxsport||[]).push([[13],{67:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1360:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3013:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(5043),r=a(5505),l=a(9855),i=a(1591),n=a(3546),o=a(4806),c=a(614),d=a(579);const m=e=>{let{isOpen:t,onClose:a,onDelete:s,itemLabel:r="\u0622\u06cc\u062a\u0645"}=e;return(0,d.jsx)(n.N,{children:t&&(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm px-4",children:(0,d.jsxs)(o.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},className:"bg-white dark:bg-neutral-900 w-full max-w-md rounded-2xl shadow-2xl p-6 relative",children:[(0,d.jsx)("button",{onClick:a,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:(0,d.jsx)(c.A,{size:20})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"flex justify-center mb-4 text-red-600",children:(0,d.jsx)(l.A,{size:32})}),(0,d.jsxs)("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:["\u062d\u0630\u0641 ",r]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["\u0622\u06cc\u0627 \u0627\u0632 \u062d\u0630\u0641 ",r," \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f \u0627\u06cc\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a \u0642\u0627\u0628\u0644 \u0628\u0627\u0632\u06af\u0634\u062a \u0646\u06cc\u0633\u062a."]})]}),(0,d.jsxs)("div",{className:"mt-6 flex justify-between items-center gap-3",children:[(0,d.jsx)("button",{onClick:a,className:"flex-1 py-2 rounded-xl border border-gray-300 dark:border-neutral-700 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-neutral-800 transition",children:"\u0627\u0646\u0635\u0631\u0627\u0641"}),(0,d.jsx)("button",{onClick:()=>{s(),a()},className:"flex-1 py-2 rounded-xl bg-red-600 text-white text-sm hover:bg-red-700 transition",children:"\u062a\u0627\u06cc\u06cc\u062f \u062d\u0630\u0641"})]})]})})})};var x=a(3768);const u=e=>{let{onEdit:t,products:a}=e;const[n,o]=(0,s.useState)([]),[c,u]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),g=e=>{h(e),u(!0)};(0,s.useEffect)((()=>{o(a)}),[a]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.m,{children:(0,d.jsx)("title",{children:"\u0627\u0644\u0645\u06a9\u0633 | \u0645\u062d\u0635\u0648\u0644\u0627\u062a"})}),(0,d.jsx)("div",{className:"overflow-x-auto rounded-xl border dark:border-neutral-700 hidden md:block",children:(0,d.jsxs)("table",{className:"min-w-full bg-white dark:bg-neutral-800 text-right",children:[(0,d.jsx)("thead",{className:"bg-gray-50 dark:bg-neutral-700 text-gray-700 dark:text-gray-300",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"p-3 text-sm font-semibold",children:"\u0646\u0627\u0645"}),(0,d.jsx)("th",{className:"p-3 text-sm font-semibold",children:"\u062f\u0633\u062a\u0647"}),(0,d.jsx)("th",{className:"p-3 text-sm font-semibold",children:"\u0642\u06cc\u0645\u062a"}),(0,d.jsx)("th",{className:"p-3 text-sm font-semibold",children:"\u0645\u0648\u062c\u0648\u062f\u06cc"}),(0,d.jsx)("th",{className:"p-3 text-sm font-semibold",children:"\u0639\u0645\u0644\u06cc\u0627\u062a"})]})}),(0,d.jsx)("tbody",{className:"text-sm text-gray-600 dark:text-gray-200",children:n.map((e=>{var a,s;return(0,d.jsxs)("tr",{className:"border-t dark:border-neutral-700",children:[(0,d.jsx)("td",{className:"p-3",children:e.name}),(0,d.jsx)("td",{className:"p-3",children:e.category}),(0,d.jsxs)("td",{className:"p-3",children:[null===(a=Number(null===e||void 0===e?void 0:e.price))||void 0===a?void 0:a.toLocaleString("fa-IR")," \u062a\u0648\u0645\u0627\u0646"]}),(0,d.jsx)("td",{className:"p-3",children:null===(s=Number(null===e||void 0===e?void 0:e.stock))||void 0===s?void 0:s.toLocaleString("fa-IR")}),(0,d.jsxs)("td",{className:"p-3 flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>t(e),className:"text-blue-600 hover:text-blue-800",children:(0,d.jsx)(r.A,{size:16})}),(0,d.jsx)("button",{onClick:()=>g(e),className:"text-red-600 hover:text-red-800",children:(0,d.jsx)(l.A,{size:16})})]})]},e.id)}))})]})}),(0,d.jsx)("div",{className:"md:hidden space-y-6",children:n.map((e=>{var a,s;return(0,d.jsx)("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-lg border border-gray-200 dark:border-neutral-700 overflow-hidden transition-transform hover:-translate-y-1 hover:shadow-xl",children:(0,d.jsxs)("div",{className:"p-5 space-y-4",children:[(0,d.jsx)("h3",{className:"text-xl font-extrabold text-gray-900 dark:text-white leading-snug border-b border-gray-200 dark:border-neutral-700 pb-3",children:e.name}),(0,d.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[(0,d.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,d.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u062f\u0633\u062a\u0647:"}),(0,d.jsx)("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full px-3 py-0.5 text-xs font-medium",children:e.category})]}),(0,d.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,d.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"\u0645\u0648\u062c\u0648\u062f\u06cc:"}),(0,d.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:null===(a=Number(null===e||void 0===e?void 0:e.stock))||void 0===a?void 0:a.toLocaleString("fa-IR")})]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,d.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\u0642\u06cc\u0645\u062a:"}),(0,d.jsxs)("span",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[null===(s=Number(null===e||void 0===e?void 0:e.price))||void 0===s?void 0:s.toLocaleString("fa-IR")," \u062a\u0648\u0645\u0627\u0646"]})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-neutral-700",children:[(0,d.jsxs)("button",{onClick:()=>t(e),className:"flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 rounded-xl bg-blue-50 hover:bg-blue-100 text-blue-600 font-medium text-sm transition",children:[(0,d.jsx)(r.A,{size:18}),"\u0648\u06cc\u0631\u0627\u06cc\u0634"]}),(0,d.jsxs)("button",{onClick:()=>g(e),className:"flex-1 inline-flex justify-center items-center gap-2 px-4 py-2 rounded-xl bg-red-50 hover:bg-red-100 text-red-600 font-medium text-sm transition",children:[(0,d.jsx)(l.A,{size:18}),"\u062d\u0630\u0641"]})]})]})},e.id)}))}),(0,d.jsx)(m,{isOpen:c,onClose:()=>u(!1),onDelete:()=>(e=>{let t=n.filter((t=>t.id!==e));o(t);const a="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/products/":"https://allmaxsport.com/api/products/";try{fetch(`${a}?id=${e}`,{method:"DELETE"}).then((e=>{x.Ay.success("\u0645\u062d\u0635\u0648\u0644 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062d\u0630\u0641 \u0634\u062f.")}))}catch(s){}})(null===p||void 0===p?void 0:p.id),itemLabel:null===p||void 0===p?void 0:p.name})]})};var p=a(67),h=a(1360),g=a(6662);const b={"\u0647\u0648\u0627\u0632\u06cc":["\u062a\u0631\u062f\u0645\u06cc\u0644","\u062f\u0648\u0686\u0631\u062e\u0647 \u062b\u0627\u0628\u062a","\u0627\u0633\u06a9\u06cc \u0641\u0636\u0627\u06cc\u06cc","\u0627\u0644\u067e\u062a\u06cc\u06a9\u0627\u0644","\u067e\u0644\u0647"],"\u0628\u062f\u0646\u0633\u0627\u0632\u06cc":["\u062f\u0645\u0628\u0644","\u0647\u0627\u0644\u062a\u0631","\u0646\u06cc\u0645\u06a9\u062a","\u06a9\u0631\u0627\u0633 \u0627\u0648\u0631"],"\u0644\u0648\u0627\u0632\u0645-\u062c\u0627\u0646\u0628\u06cc":["\u0645\u0648\u062a\u0648\u0631","\u062a\u0633\u0645\u0647 \u062a\u0631\u062f\u0645\u06cc\u0644","\u0645\u0627\u0646\u06cc\u062a\u0648\u0631"],"\u0648\u0632\u0646-\u0622\u0632\u0627\u062f":["\u0627\u0633\u0645\u06cc\u062a","\u067e\u0631\u0633","\u0633\u0627\u0642"]},y=e=>{var t;let{onClose:a,product:r,onSaved:l}=e;const[i,m]=(0,s.useState)({name:"",price:"",stock:"",category:"",type:"",dimensions:"",description:"",brand:"",material:"",weight_capacity:"",display:"",motor_power:"",product_weight:"",features:[],warranty:"",status:"active",sales:0,images:[]}),u=(0,g.Zp)(),[p,h]=(0,s.useState)(""),[y,j]=(0,s.useState)([]),v=(0,s.useRef)(null),w=(0,s.useRef)(null);Boolean(null===r||void 0===r?void 0:r.id);(0,s.useEffect)((()=>{if(r){let e=r.images;m({name:r.name||"",price:r.price||"",stock:r.stock||"",brand:r.brand||"",category:r.category||"",type:r.product_type||"",dimensions:r.dimensions||"",material:r.material||"",weight_capacity:r.weight_capacity||"",product_weight:r.product_weight||0,weight:r.weight||"",display:r.display||"",motor_power:r.motor_power||"",description:r.description||"",status:"active"===r.status?"\u0641\u0639\u0627\u0644":"\u063a\u06cc\u0631\u0641\u0639\u0627\u0644",sales:r.sales||0,features:r.features||[],images:e||[],warranty:r.warranty||""}),j(e||[])}}),[r]);const N=e=>{const{name:t,value:a}=e.target;m((e=>({...e,[t]:a}))),"category"===t&&m((e=>({...e,type:""})))},k=e=>{if(i.images.length+e.length>4){x.Ay.error("\u062d\u062f\u0627\u06a9\u062b\u0631 \u062a\u0639\u062f\u0627\u062f \u062a\u0635\u0627\u0648\u06cc\u0631 \u0628\u0631\u0627\u06cc \u0645\u062d\u0635\u0648\u0644 \u06f4 \u0627\u0633\u062a.");const t=4-i.images.length;if(t<=0)return;e=e.slice(0,t)}const t=[...i.images,...e],a=t.map((e=>"string"===typeof e?e:URL.createObjectURL(e)));m((e=>({...e,images:t}))),j(a)},C=e=>{e.preventDefault();const t=p.trim();t&&!i.features.includes(t)&&(m((e=>({...e,features:[...e.features,t]}))),h(""))};return(0,d.jsx)(n.N,{children:(0,d.jsx)(o.P.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,d.jsxs)(o.P.div,{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-xl w-full max-w-3xl relative max-h-[90vh] overflow-y-auto",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:[(0,d.jsx)("button",{onClick:a,className:"absolute left-4 top-4 text-gray-500 hover:text-gray-700 dark:text-gray-300",children:(0,d.jsx)(c.A,{size:24})}),(0,d.jsxs)("div",{className:"p-6 font-vazir",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-6 text-right text-gray-800 dark:text-white",children:r?"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0645\u062d\u0635\u0648\u0644":"\u062b\u0628\u062a \u0645\u062d\u0635\u0648\u0644 \u062c\u062f\u06cc\u062f"}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/upload-images/":"https://allmaxsport.com/api/upload-images/",s="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/products/":"https://allmaxsport.com/api/products/";try{const e=new FormData,n=i.images.filter((e=>e instanceof File)),o=i.images.filter((e=>"string"===typeof e));n.forEach((t=>e.append("image",t)));let c=[];if(n.length>0){const a=await fetch(t,{method:"POST",body:e});c=(await a.json()).image_urls}const d=[...o,...c],u={name:i.name,price:i.price,stock:i.stock,brand:i.brand,category:i.category,product_type:i.type,dimensions:i.dimensions,material:i.material,weight_capacity:i.weight_capacity,weight:i.product_weight,display:i.display,motor_power:i.motor_power,product_weight:i.product_weight,description:i.description,status:"\u0641\u0639\u0627\u0644"===i.status?"active":"inactive",sales:i.sales,features:i.features,images:d,warranty:i.warranty},p=Boolean(null===r||void 0===r?void 0:r.id),h=p?`${s}?id=${r.id}`:`${s}`,g=p?"PATCH":"POST",b=Object.fromEntries(Object.entries(u).filter((e=>{let[t,a]=e;return void 0!==a&&null!==a}))),y=await fetch(h,{method:g,headers:{"Content-Type":"application/json"},body:JSON.stringify(u||b)});if(!y.ok)throw new Error("\u062e\u0637\u0627 \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a");const f=await y.json();l(),m(f),x.Ay.success(p?"\u0645\u062d\u0635\u0648\u0644 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u0634\u062f":"\u0645\u062d\u0635\u0648\u0644 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0634\u062f"),a()}catch(n){x.Ay.error("\u062e\u0637\u0627 \u062f\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0645\u062d\u0635\u0648\u0644")}finally{u("/dashboard/products")}},children:[(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[[{label:"\u0646\u0627\u0645 \u0645\u062d\u0635\u0648\u0644 *",name:"name",required:!0},{label:"\u0642\u06cc\u0645\u062a (\u062a\u0648\u0645\u0627\u0646) *",name:"price",type:"number",required:!0},{label:"\u0645\u0648\u062c\u0648\u062f\u06cc",name:"stock",type:"number"},{label:"\u062f\u0633\u062a\u0647\u200c\u0628\u0646\u062f\u06cc *",name:"category",type:"select",options:Object.keys(b),required:!0},i.category&&{label:"\u0646\u0648\u0639 \u0645\u062d\u0635\u0648\u0644 *",name:"type",type:"select",options:b[i.category],required:!0},{label:"\u0628\u0631\u0646\u062f *",name:"brand",required:!0},{label:"\u062c\u0646\u0633",name:"material"},{label:"\u062a\u062d\u0645\u0644 \u0648\u0632\u0646 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",name:"weight_capacity",type:"number"},{label:"\u0635\u0641\u062d\u0647 \u0646\u0645\u0627\u06cc\u0634",name:"display"},{label:"\u0642\u062f\u0631\u062a \u0645\u0648\u062a\u0648\u0631",name:"motor_power"},{label:"\u0648\u0632\u0646 \u0645\u062d\u0635\u0648\u0644 (\u06a9\u06cc\u0644\u0648\u06af\u0631\u0645)",name:"product_weight",type:"number"},{label:"\u0627\u0628\u0639\u0627\u062f",name:"dimensions"},{label:"\u06af\u0627\u0631\u0627\u0646\u062a\u06cc",name:"warranty"},{label:"\u0648\u0636\u0639\u06cc\u062a *",name:"status",type:"select",options:["\u0641\u0639\u0627\u0644","\u063a\u06cc\u0631\u0641\u0639\u0627\u0644"],required:!0}].filter(Boolean).map((e=>{let{label:t,name:a,type:s="text",options:r=[],required:l}=e;return(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600 dark:text-gray-300",children:t}),"select"===s?(0,d.jsxs)("select",{name:a,value:i[a]||"",onChange:N,required:l,className:"w-full border p-2 rounded-xl text-sm dark:bg-neutral-700 dark:border-neutral-600 text-white",children:[(0,d.jsx)("option",{value:"",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"}),r.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))]}):(0,d.jsx)("input",{name:a,value:i[a]||"",type:s,onChange:N,required:l,className:"w-full border p-2 rounded-xl text-sm bg-white dark:bg-neutral-700 dark:border-neutral-600 text-white"})]},a)})),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600 dark:text-gray-300",children:"\u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,d.jsx)("input",{value:p,onChange:e=>h(e.target.value),className:"flex-1 border p-2 rounded-xl text-sm bg-white dark:bg-neutral-700 dark:border-neutral-600 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500",placeholder:"\u0648\u06cc\u0698\u06af\u06cc \u0631\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f \u0648 Enter \u06cc\u0627 + \u0628\u0632\u0646\u06cc\u062f",onKeyDown:e=>"Enter"===e.key&&C(e),type:"text",inputMode:"text"}),(0,d.jsx)("button",{onClick:C,className:"px-3 py-2 rounded-xl bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700 transition-all duration-200 flex items-center justify-center","aria-label":"\u0627\u0641\u0632\u0648\u062f\u0646 \u0648\u06cc\u0698\u06af\u06cc",children:"+"})]}),(0,d.jsx)("div",{className:"flex flex-wrap mt-3 gap-2",children:null===i||void 0===i||null===(t=i.features)||void 0===t?void 0:t.map(((e,t)=>(0,d.jsxs)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...i.features];t.splice(e,1),m((e=>({...e,features:t})))})(t),className:"text-white hover:text-gray-200",children:"\xd7"})]},t)))})]}),(0,d.jsxs)("div",{className:"md:col-span-2",children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600 dark:text-gray-300",children:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"}),(0,d.jsx)("textarea",{name:"description",value:null===i||void 0===i?void 0:i.description,onChange:N,rows:4,className:"w-full border p-2 rounded-xl text-sm bg-white dark:bg-neutral-700 dark:border-neutral-600 text-white resize-none"})]}),(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsx)(f,{form:i,dropZoneRef:w,handleImageDrop:e=>{e.preventDefault();const t=Array.from(e.dataTransfer.files);k(t),w.current.classList.remove("border-blue-500")},fileInputRef:v,handleImageSelect:e=>{const t=Array.from(e.target.files);m((e=>{const a=e.images||[],s=t.filter((e=>!a.some((t=>t.name===e.name&&t.size===e.size))));if(a.length+s.length>4){x.Ay.error("Maximum 4 images allowed per product");const t=4-a.length;if(t<=0)return e;const r=s.slice(0,t),l=[...a,...r],i=l.map((e=>"string"===typeof e?e:URL.createObjectURL(e)));return j(i),{...e,images:l}}return s.length>0&&k(s),{...e,images:[...a,...s]}}))},imagePreviews:y,removeImage:e=>{const t=[...i.images];t.splice(e,1);const a=[...y];a.splice(e,1),m((e=>({...e,images:t}))),j(a)}})})]}),(0,d.jsx)("button",{type:"submit",className:"w-full mt-6 bg-blue-600 text-white py-2 rounded-xl hover:bg-blue-700 transition text-sm",children:r?"\u0630\u062e\u06cc\u0631\u0647 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a":"\u062b\u0628\u062a \u0645\u062d\u0635\u0648\u0644"})]})]})]})})})},f=e=>{let{form:t,dropZoneRef:a,handleImageDrop:s,fileInputRef:r,handleImageSelect:i,imagePreviews:c,removeImage:m}=e;return(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["\u062a\u0635\u0627\u0648\u06cc\u0631 \u0645\u062d\u0635\u0648\u0644 ",t.images.length>0&&`(${t.images.length}/4)`]}),(0,d.jsxs)("div",{ref:a,onDragOver:e=>{e.preventDefault(),a.current.classList.add("border-blue-500")},onDragLeave:e=>{e.preventDefault(),a.current.classList.remove("border-blue-500")},onDrop:s,className:"border-2 border-dashed rounded-lg p-4 text-center cursor-pointer transition-colors\n          "+(t.images.length>=4?"bg-gray-100 border-gray-300":"hover:border-blue-400 border-gray-300"),onClick:()=>t.images.length<4&&r.current.click(),children:[(0,d.jsx)("input",{type:"file",ref:r,onChange:i,multiple:!0,accept:"image/*",className:"hidden",disabled:t.images.length>=4}),t.images.length>=4?(0,d.jsx)("p",{className:"text-gray-500",children:"\u062d\u062f\u0627\u06a9\u062b\u0631 \u06f4 \u062a\u0635\u0648\u06cc\u0631 \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647 \u0627\u0633\u062a"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"flex justify-center mb-2",children:0===t.images.length?(0,d.jsx)(p.A,{className:"w-8 h-8 text-gray-400"}):(0,d.jsx)(h.A,{className:"w-8 h-8 text-gray-400"})}),(0,d.jsxs)("p",{className:"text-sm text-gray-500 font-vazir",children:["\u062a\u0635\u0627\u0648\u06cc\u0631 \u0631\u0627 \u0627\u06cc\u0646\u062c\u0627 \u0631\u0647\u0627 \u06a9\u0646\u06cc\u062f \u06cc\u0627"," ",(0,d.jsx)("span",{className:"text-blue-500",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"})]}),(0,d.jsxs)("p",{className:"text-xs text-gray-400 mt-1 font-vazir",children:[4-t.images.length," \u062c\u0627\u06cc \u062e\u0627\u0644\u06cc \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647 \u0627\u0633\u062a"]})]})]}),c.length>0&&(0,d.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4",children:(0,d.jsx)(n.N,{children:c.map(((e,t)=>(0,d.jsxs)(o.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},transition:{type:"spring",stiffness:300,damping:24},className:"relative group overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:[(0,d.jsx)("div",{className:"aspect-square relative overflow-hidden",children:(0,d.jsx)("img",{src:e,alt:`\u062a\u0635\u0648\u06cc\u0631 \u0645\u062d\u0635\u0648\u0644 ${t+1}`,className:"object-cover w-full h-full transition-transform group-hover:scale-105"})}),(0,d.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center",children:(0,d.jsx)(o.P.button,{onClick:e=>{e.preventDefault(),m(t)},type:"button",whileHover:{scale:1.1},whileTap:{scale:.9},className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-red-500 hover:bg-red-600 rounded-full p-2 text-white shadow-lg","aria-label":"\u062d\u0630\u0641 \u062a\u0635\u0648\u06cc\u0631",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})})}),(0,d.jsxs)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded-full",children:[t+1,"/4"]})]},e)))})})]})};function j(e){let{onClose:t}=e;const[a,r]=(0,s.useState)({code:"",percentage:"",expire_date:""}),[l,i]=(0,s.useState)(!1),m=e=>{r({...a,[e.target.name]:e.target.value})};return(0,d.jsx)(n.N,{children:(0,d.jsx)(o.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,d.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},className:"bg-zinc-900 text-white p-6 rounded-2xl w-full max-w-md shadow-lg relative",children:[(0,d.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-zinc-400 hover:text-white",children:(0,d.jsx)(c.A,{size:20})}),(0,d.jsx)("h2",{className:"text-lg font-semibold mb-5",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u062c\u062f\u06cc\u062f"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm mb-1",children:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,d.jsx)("input",{type:"text",name:"code",value:a.code,onChange:m,placeholder:"\u0645\u062b\u0644\u0627\u064b: OFF50",className:"w-full px-3 py-2 rounded-xl bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm mb-1",children:"\u062f\u0631\u0635\u062f \u062a\u062e\u0641\u06cc\u0641"}),(0,d.jsx)("input",{type:"number",name:"percentage",value:a.percentage,onChange:m,placeholder:"\u0645\u062b\u0644\u0627\u064b: 20",min:"1",max:"100",className:"w-full px-3 py-2 rounded-xl bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm mb-1",children:"\u062a\u0627\u0631\u06cc\u062e \u0627\u0646\u0642\u0636\u0627"}),(0,d.jsx)("input",{type:"date",name:"expire_date",value:a.expire_date,onChange:m,className:"w-full px-3 py-2 rounded-xl bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,d.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm bg-zinc-700 hover:bg-zinc-600 rounded-xl",disabled:l,children:"\u0627\u0646\u0635\u0631\u0627\u0641"}),(0,d.jsx)("button",{onClick:async()=>{const e="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/orders/":"https://allmaxsport.com/api/orders/",{code:s,percentage:r,expire_date:l}=a;if(s&&r&&l)if(isNaN(r)||r<1||r>100)x.oR.error("\u062f\u0631\u0635\u062f \u0628\u0627\u06cc\u062f \u0628\u06cc\u0646 \u06f1 \u062a\u0627 \u06f1\u06f0\u06f0 \u0628\u0627\u0634\u062f");else try{i(!0);if(!(await fetch(`${e}?discount_code=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:s,percentage:r,expire_date:l})})).ok)throw new Error("\u062e\u0637\u0627 \u062f\u0631 \u0627\u06cc\u062c\u0627\u062f \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641");x.oR.success("\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f"),t()}catch(n){x.oR.error("\u0627\u06cc\u062c\u0627\u062f \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0628\u0627 \u062e\u0637\u0627 \u0645\u0648\u0627\u062c\u0647 \u0634\u062f")}finally{i(!1)}else x.oR.error("\u062a\u0645\u0627\u0645 \u0641\u06cc\u0644\u062f\u0647\u0627 \u0627\u0644\u0632\u0627\u0645\u06cc \u0647\u0633\u062a\u0646\u062f")},className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 rounded-xl text-white "+(l?"opacity-50 cursor-not-allowed":""),disabled:l,children:l?"\u062f\u0631 \u062d\u0627\u0644 \u0630\u062e\u06cc\u0631\u0647...":"\u0630\u062e\u06cc\u0631\u0647"})]})]})]},"modal")},"backdrop")})}const v=()=>{const[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)([]);async function c(){const e="localhost"===window.location.hostname?"http://127.0.0.1:8000/api/products/":"https://allmaxsport.com/api/products/",t=await fetch(e),a=await t.json();o(a)}(0,s.useEffect)((()=>{c()}),[]);return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h2",{className:" lg:text-2xl font-bold text-gray-800 dark:text-white",children:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u0635\u0648\u0644\u0627\u062a"}),(0,d.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,d.jsx)("button",{onClick:()=>{r(null),t(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl text-sm",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0645\u062d\u0635\u0648\u0644"}),(0,d.jsx)("button",{onClick:()=>{i(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl text-sm",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"})]})]}),(0,d.jsx)(u,{products:n,onEdit:e=>{r(e),t(!0)}}),e&&(0,d.jsx)(y,{product:a,onClose:()=>{t(!1),r(null)},onSaved:c}),l&&(0,d.jsx)(j,{onClose:()=>{i(!1)}})]})}},5505:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},9855:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=13.074a75d0.chunk.js.map